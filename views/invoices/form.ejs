<%- include("../layout", {
  body: `
    <div class="container" style="max-width: 600px;">

      <a href="/clients/${clientId}" class="btn btn-link mb-3">
        ‚Üê Back to Client
      </a>

      <h2 class="mb-4">
        ${isEdit ? "Edit Invoice" : "Add New Invoice"}
      </h2>

      <form
        method="POST"
        action="${
          isEdit
            ? `/invoices/${invoice.id}/edit`
            : `/clients/${clientId}/invoices/new`
        }"
        class="card p-4 shadow-sm"
      >

        <!-- AMOUNT -->
        <div class="mb-3">
          <label class="form-label">Invoice Amount</label>
          <input
            type="number"
            name="amount"
            class="form-control"
            placeholder="Enter amount"
            value="${invoice ? invoice.amount : ""}"
            required
          />
        </div>

        <!-- INVOICE DATE -->
        <div class="mb-3">
          <label class="form-label">Invoice Date</label>
          <input
            type="date"
            name="issue_date"
            class="form-control"
            value="${invoice && invoice.issue_date ? invoice.issue_date : ""}"
          />
        </div>

        <!-- DUE DATE -->
        <div class="mb-3">
          <label class="form-label">Due Date</label>
          <input
            type="date"
            name="due_date"
            class="form-control"
            value="${invoice && invoice.due_date ? invoice.due_date : ""}"
          />
        </div>

        <!-- CURRENCY -->
        <div class="mb-3">
          <label class="form-label">Currency</label>
          <input
            type="text"
            name="currency"
            class="form-control"
            value="${invoice && invoice.currency ? invoice.currency : "INR"}"
          />
        </div>

        <!-- NOTES -->
        <div class="mb-3">
          <label class="form-label">Notes</label>
          <textarea
            name="notes"
            class="form-control"
            rows="3"
          >${invoice && invoice.notes ? invoice.notes : ""}</textarea>
        </div>

        <!-- STATUS -->
        <div class="mb-4">
          <label class="form-label">Status</label>
          <select name="status" class="form-select">
            <option value="pending" ${!invoice || invoice.status === "pending" ? "selected" : ""}>
              Pending
            </option>
            <option value="paid" ${invoice && invoice.status === "paid" ? "selected" : ""}>
              Paid
            </option>
            <option value="overdue" ${invoice && invoice.status === "overdue" ? "selected" : ""}>
              Overdue
            </option>
          </select>
        </div>

        <!-- BUTTONS -->
        <div class="d-flex justify-content-end">
          <button type="submit" class="btn btn-primary me-2">
            ${isEdit ? "Update Invoice" : "Save Invoice"}
          </button>

          <a href="/clients/${clientId}" class="btn btn-light">
            Cancel
          </a>
        </div>

      </form>
    </div>
  `
}) %>
